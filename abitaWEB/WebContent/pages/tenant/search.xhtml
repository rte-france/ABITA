<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/site/site.xhtml">
  <ui:define name="title">
    <h:outputText value="#{customProperties['page.title.prefix']}#{customProperties['tenant.search.title']}" />
  </ui:define>
  <ui:define name="body-site">
    <h2 class="center">#{customProperties['tenant.search.title']}</h2>
    <h:form id="frmSearchTenant" prependId="false">
      <p:fieldset legend="#{customProperties['tenant.search.fieldset']}">
        <div class="ddl">
          <!-- Type d'occupant -->
          <h:outputLabel for="type" value="#{customProperties['tenant.field.type']}" styleClass="label" />
          <p:selectOneMenu id="type" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.typeTenant}" converter="abita.converter.dto" styleClass="dropdownlist">
            <f:attribute name="converter-values" value="#{tenantSearchController.allTypeTenant}" />
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{tenantSearchController.allTypeTenant}" var="type" itemLabel="#{type.label}" />
          </p:selectOneMenu>
        </div>
        <p>
          <!-- Référence occupant -->
          <h:outputLabel for="ref" value="#{customProperties['tenant.field.reference']}" styleClass="label" />
          <p:inputText id="ref" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.reference}" maxlength="15" />
        </p>
        <p>
          <!-- Nom -->
          <h:outputLabel for="name" value="#{customProperties['tenant.field.name']}" styleClass="label" />
          <p:inputText id="name" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.lastName}" maxlength="50" />
        </p>
        <p>
          <!-- Prénom -->
          <h:outputLabel for="firstname" value="#{customProperties['tenant.field.firstname']}" styleClass="label" />
          <p:inputText id="firstname" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.firstName}" maxlength="50" />
        </p>
        <p>
          <!-- Adresse -->
          <h:outputLabel for="adressTenant" value="#{customProperties['tenant.field.adress']}" styleClass="label txtarea" />
          <p:inputTextarea id="adressTenant" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.address}" rows="4" cols="74" maxlength="250" />
        </p>
        <p>
          <!-- Code postal -->
          <h:outputLabel for="cpTenant" value="#{customProperties['tenant.field.cp']}" styleClass="label" />
          <p:inputText id="cpTenant" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.postalCode}" maxlength="5" />
        </p>
        <p>
          <!-- Ville -->
          <h:outputLabel for="cityTenant" value="#{customProperties['tenant.field.city']}" styleClass="label" />
          <p:inputText id="cityTenant" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.city}" maxlength="50" />
        </p>
        <div class="ddl">
          <!-- Cadre -->
          <h:outputLabel for="managerial" value="#{customProperties['tenant.field.managerial']}" styleClass="label" />
          <p:selectOneMenu id="managerial" value="#{tenantSearchController.tenantSearchBean.managerial}">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Cadre à octobre N-1 -->
          <h:outputLabel for="managerialLastYear" value="#{customProperties['tenant.field.managerial.last.year']}" styleClass="label" />
          <p:selectOneMenu id="managerialLastYear" value="#{tenantSearchController.tenantSearchBean.managerialLastYear}">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <p>
          <!-- Nombre de personne constituant le foyer -->
          <h:outputLabel for="household_number" value="#{customProperties['tenant.field.household']}" styleClass="label" />
          <p:inputText id="household_number" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.householdSize}" label="#{customProperties['tenant.field.household']}" maxlength="3" />
        </p>
        <p>
          <!-- Nombre de personne constituant le foyer à octobre N-1 -->
          <h:outputLabel for="householdLastYear_number" value="#{customProperties['tenant.field.household.last.year']}" styleClass="label" />
          <p:inputText id="householdLastYear_number" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.householdSizeLastYear}" label="#{customProperties['tenant.field.household.last.year']}" maxlength="3" />
        </p>
        <p>
          <!-- Salaire brut -->
          <h:outputLabel for="salary_number" id="chkSalary" value="#{customProperties['tenant.field.salary']}" styleClass="label" />
          <p:inputText id="salary_number" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.actualSalary}" label="#{customProperties['tenant.field.salary']}" maxlength="10" />
        </p>
        <p>
          <!-- Salaire brut à octobre N-1 -->
          <h:outputLabel for="salaryLastYear_number" id="chkSalaryLastYear" value="#{customProperties['tenant.field.salary.last.year']}" styleClass="label" />
          <p:inputText id="salaryLastYear_number" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.referenceGrossSalary}" label="#{customProperties['tenant.field.salary.last.year']}" maxlength="10" />
        </p>
        <p>
          <!-- Téléphone -->
          <h:outputLabel for="phone" value="#{customProperties['tenant.field.phone']}" styleClass="label" />
          <p:inputText id="phone" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.phone}" maxlength="20" />
        </p>
        <p>
          <!-- Email -->
          <h:outputLabel for="email" value="#{customProperties['tenant.field.email']}" styleClass="label" />
          <p:inputText id="email" value="#{tenantSearchController.tenantSearchBean.tenantCriteria.mailAddress}" maxlength="255" />
        </p>
      </p:fieldset>
      <p:fieldset legend="#{customProperties['housing.search.fieldset']}">
        <p>
          <!-- Référence -->
          <h:outputLabel for="reference" value="#{customProperties['housing.field.ref']}" styleClass="label" />
          <p:inputText id="reference" label="#{customProperties['housing.field.ref']}" value="#{tenantSearchController.tenantSearchBean.housingCriteria.reference}" />
        </p>
        <p>
          <!-- Adresse -->
          <h:outputLabel for="adress" value="#{customProperties['housing.field.adress']}" styleClass="label txtarea" />
          <p:inputTextarea id="adress" value="#{tenantSearchController.tenantSearchBean.housingCriteria.address}" rows="4" cols="84" maxlength="250" />
        </p>
        <p>
          <!-- Code postal -->
          <h:outputLabel for="cp" value="#{customProperties['housing.field.cp']}" styleClass="label" />
          <p:inputText id="cp" value="#{tenantSearchController.tenantSearchBean.housingCriteria.postalCode}" maxlength="5" />
        </p>
        <p>
          <!-- Ville -->
          <h:outputLabel for="city" value="#{customProperties['housing.field.city']}" styleClass="label" />
          <p:inputText id="city" value="#{tenantSearchController.tenantSearchBean.housingCriteria.city}" maxlength="50" />
        </p>
        <p>
          <!-- Date d'entrée -->
          <h:outputLabel for="register_date" value="#{customProperties['housing.field.date.in']}" styleClass="label" />
          <p:calendar id="register_date" value="#{tenantSearchController.tenantSearchBean.housingCriteria.registerDate}" locale="fr" pattern="#{customProperties['pattern.date']}" navigator="true" maxlength="10" />
        </p>
        <p>
          <!-- Date de sortie -->
          <h:outputLabel for="unregister_date" value="#{customProperties['housing.field.date.out']}" styleClass="label" />
          <p:calendar id="unregister_date" value="#{tenantSearchController.tenantSearchBean.housingCriteria.unregisterDate}" locale="fr" pattern="#{customProperties['pattern.date']}" navigator="true" maxlength="10" />
        </p>
        <div class="ddl">
          <!-- Motif de sortie -->
          <h:outputLabel for="reason_for_exit" value="#{customProperties['housing.field.reason.for.exit']}" styleClass="label" />
          <p:selectOneMenu id="reason_for_exit" value="#{tenantSearchController.tenantSearchBean.housingCriteria.reasonForExit}" styleClass="dropdownlist" >
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{housingSearchController.housingSearchBean.housingCriteria.reasonForExitArray}" var="reasonForExit" itemValue="#{reasonForExit}" itemLabel="#{customProperties[reasonForExit.key]}" />
          </p:selectOneMenu>
        </div>
        <p>
          <!-- Surface réelle -->
          <h:outputLabel for="real_surface" value="#{customProperties['housing.field.real.surface']}" styleClass="label" />
          <p:inputText id="real_surface" label="#{customProperties['housing.field.real.surface']}" value="#{tenantSearchController.tenantSearchBean.housingCriteria.realSurfaceArea}" maxlength="8" />
        </p>
        <p>
          <!-- Surface corrigée -->
          <h:outputLabel for="fixed_surface" value="#{customProperties['housing.field.fixed.surface']}" styleClass="label" />
          <p:inputText id="fixed_surface" label="#{customProperties['housing.field.fixed.surface']}" value="#{tenantSearchController.tenantSearchBean.housingCriteria.revisedSurfaceArea}" maxlength="8" />
        </p>
        <div class="ddl">
          <!-- Propriété -->
          <h:outputLabel for="property" value="#{customProperties['housing.field.property']}" styleClass="label" />
          <p:selectOneMenu id="property" value="#{tenantSearchController.tenantSearchBean.property}">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Jardin -->
          <h:outputLabel for="garden" value="#{customProperties['housing.field.garden']}" styleClass="label" />
          <p:selectOneMenu id="garden" value="#{tenantSearchController.tenantSearchBean.gardenAvailable}">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Garage -->
          <h:outputLabel for="garage" value="#{customProperties['housing.field.garage']}" styleClass="label" />
          <p:selectOneMenu id="garage" value="#{tenantSearchController.tenantSearchBean.garageAvailable}">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Statut logement -->
          <h:outputLabel for="status" value="#{customProperties['housing.field.status']}" styleClass="label" />
          <p:selectOneMenu id="status" value="#{tenantSearchController.tenantSearchBean.housingCriteria.housingStatus}" styleClass="dropdownlist">
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{housingSearchController.allHousingStatus}" var="status" itemLabel="#{status.label}" />
          </p:selectOneMenu>
        </div>
        <p>
          <!-- Nombre de pièces -->
          <h:outputLabel for="room_number" value="#{customProperties['housing.field.room.number']}" styleClass="label" />
          <p:inputText id="room_number" label="#{customProperties['housing.field.room.number']}" value="#{tenantSearchController.tenantSearchBean.housingCriteria.roomCount}" maxlength="3" />
        </p>
        <div class="ddl">
          <!-- Nature -->
          <h:outputLabel for="nature" value="#{customProperties['housing.field.nature']}" styleClass="label" />
          <p:selectOneMenu id="nature" value="#{tenantSearchController.tenantSearchBean.housingCriteria.housingNature}" converter="abita.converter.dto" styleClass="dropdownlist">
            <f:attribute name="converter-values" value="#{housingSearchController.allHousingNature}" />
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{housingSearchController.allHousingNature}" var="nature" itemLabel="#{nature.label}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Noyau dur -->
          <h:outputLabel for="core" value="#{customProperties['housing.field.core']}" styleClass="label" />
          <p:selectOneMenu id="core" value="#{tenantSearchController.tenantSearchBean.core}" styleClass="radio">
            <f:selectItem itemLabel="#{customProperties['confirm.all']}" noSelectionOption="true" />
            <f:selectItem itemLabel="#{customProperties['confirm.yes']}" itemValue="#{true}" />
            <f:selectItem itemLabel="#{customProperties['confirm.no']}" itemValue="#{false}" />
          </p:selectOneMenu>
        </div>
        <p>
          <!-- Année de contruction -->
          <h:outputLabel for="year_number" value="#{customProperties['housing.field.year']}" styleClass="label" />
          <p:inputText id="year_number" label="#{customProperties['housing.field.year']}" value="#{tenantSearchController.tenantSearchBean.housingCriteria.year}" maxlength="4" />
        </p>
        <div class="ddl">
          <!-- Gestionnaire du logement -->
          <h:outputLabel for="manager" value="#{customProperties['housing.field.manager']}" styleClass="label" />
          <p:selectOneMenu id="manager" value="#{tenantSearchController.tenantSearchBean.housingCriteria.thirdpartyContractManager}" converter="abita.converter.dto" styleClass="dropdownlist">
            <f:attribute name="converter-values" value="#{housingSearchController.allThirdpartyContractManager}" />
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{housingSearchController.allThirdpartyContractManager}" var="user" itemLabel="#{user.lastName} #{user.firstName}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Catégorie du local -->
          <h:outputLabel for="category" value="#{customProperties['housing.field.category']}" styleClass="label" />
          <p:selectOneMenu id="category" value="#{tenantSearchController.tenantSearchBean.housingCriteria.roomCategory}" converter="abita.converter.dto" styleClass="dropdownlist">
            <f:attribute name="converter-values" value="#{housingSearchController.allRoomCategory}" />
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{housingSearchController.allRoomCategory}" var="category" itemLabel="#{category.label}" />
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Agence -->
          <h:outputLabel for="agency" value="#{customProperties['housing.field.agency']}" styleClass="label" />
          <p:selectOneMenu id="agency" value="#{tenantSearchController.tenantSearchBean.housingCriteria.agency}" converter="abita.converter.dto" styleClass="dropdownlist">
            <f:attribute name="converter-values" value="#{tenantSearchController.agencies}" />
            <f:selectItem itemLabel="#{msg['dropdownlist.empty']}" value="#{null}" />
            <f:selectItems value="#{tenantSearchController.agencies}" var="agency" itemLabel="#{agency.name}" />
            <p:ajax update="rattachmentSite" listener="#{tenantSearchController.updateSiteListForCurrentAgency()}"/>
          </p:selectOneMenu>
        </div>
        <div class="ddl">
          <!-- Site -->
          <h:outputLabel for="rattachmentSite" value="#{customProperties['housing.field.rattachmentSite']}" styleClass="label" />
          <p:selectOneMenu id="rattachmentSite" value="#{tenantSearchController.tenantSearchBean.housingCriteria.rattachmentSite}" converter="abita.converter.dto" styleClass="dropdownlist" disabled="#{empty tenantSearchController.tenantSearchBean.housingCriteria.agency}">
            <f:attribute name="converter-values" value="#{tenantSearchController.tenantSearchBean.sites}" />
            <f:selectItem itemLabel="#{null}" value="#{null}" />
            <f:selectItems value="#{tenantSearchController.tenantSearchBean.sites}" var="rattachmentSite" itemLabel="#{rattachmentSite.name}" />
          </p:selectOneMenu>
        </div>
      </p:fieldset>
      <p:outputPanel layout="block" styleClass="action">
        <p:commandButton id="btnValidate" value="#{customProperties['tenant.action.search']}" actionListener="#{tenantSearchController.searchData}" update=":messages result" oncomplete="cleanResultAndShowErrors();" />
        <p:commandButton id="btnCancel" value="#{customProperties['tenant.action.cancel']}" action="#{tenantSearchController.cancel}" immediate="true" />
      </p:outputPanel>
      <p:outputPanel layout="block" id="result">
        <p:dataTable id="resultTab" var="tenant" value="#{tenantSearchController.tenantSearchBean.lstResultSearch}" emptyMessage="#{customProperties['no.data']}" sortBy="#{tenant.reference.toUpperCase()}" rendered="#{tenantSearchController.tenantSearchBean.lstResultSearch != null}" paginator="true" paginatorPosition="bottom" rows="100" rowsPerPageTemplate="#{tenantSearchController.paginationTemplate}" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" currentPageReportTemplate="(Enregistrements : {startRecord} - {endRecord} sur {totalRecords}, Page: {currentPage}/{totalPages})">
          <!-- 						paginator="true" paginatorPosition="bottom" rows="100" rowsPerPageTemplate="50, 100, 150 #{fn:length(tenantSearchController.tenantSearchBean.lstResultSearch) gt 150 ? concat(',', #{fn:length(tenantSearchController.tenantSearchBean.lstResultSearch)) : ''}"  -->
          <!-- Type d'occupant -->
          <p:column sortBy="#{tenant.typeTenant.label}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.type']}" />
            </f:facet>
            <h:outputText value="#{tenant.typeTenant.label}" />
          </p:column>
          <!-- Référence de l'occupant-->
          <p:column sortBy="#{tenant.reference.toUpperCase()}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.reference']}" />
            </f:facet>
            <p:commandLink value="#{tenant.reference}" actionListener="#{tenantSearchController.redirectConsult}">
              <f:attribute name="data_id" value="#{tenant.id}" />
            </p:commandLink>
          </p:column>
          <!-- Nom -->
          <p:column sortBy="#{tenant.lastName.toUpperCase()}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.name']}" />
            </f:facet>
            <h:outputText value="#{tenant.lastName}" />
          </p:column>
          <!-- Prénom -->
          <p:column sortBy="#{tenant.firstName.toUpperCase()}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.firstname']}" />
            </f:facet>
            <h:outputText value="#{tenant.firstName}" />
          </p:column>
          <!-- Adresse -->
          <p:column sortBy="#{tenant.sortedAddress}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.adress']}" />
            </f:facet>
            <h:outputText value="#{tenant.address}" />
          </p:column>
          <!-- Code postal -->
          <p:column sortBy="#{tenant.sortedPostalCode}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.cp']}" />
            </f:facet>
            <h:outputText value="#{tenant.postalCode}" />
          </p:column>
          <!-- Ville -->
          <p:column sortBy="#{tenant.sortedCity}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.city']}" />
            </f:facet>
            <h:outputText value="#{tenant.city}" />
          </p:column>
          <!-- Cadre -->
          <p:column sortBy="#{tenant.sortedManagerial}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.managerial']}" />
            </f:facet>
            <h:outputText value="#{customProperties['confirm.yes']}" rendered="#{tenant.managerial != null ? tenant.managerial : false}" />
            <h:outputText value="#{customProperties['confirm.no']}" rendered="#{tenant.managerial != null ? !tenant.managerial : false}" />
          </p:column>
          <!-- Cadre à octobre N-1 -->
          <p:column sortBy="#{tenant.sortedManagerialLastYear}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.managerial.last.year']}" />
            </f:facet>
            <h:outputText value="#{customProperties['confirm.yes']}" rendered="#{tenant.managerialLastYear != null ? tenant.managerialLastYear : false}" />
            <h:outputText value="#{customProperties['confirm.no']}" rendered="#{tenant.managerialLastYear != null ? !tenant.managerialLastYear : false}" />
          </p:column>
          <!-- Nombre de personnes constituant le foyer -->
          <p:column sortBy="#{tenant.householdSize}" styleClass="multi_line long_label">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.household']}" />
            </f:facet>
            <h:outputText value="#{tenant.householdSize}" />
          </p:column>
          <!-- Nombre de personnes constituant le foyer à octobre N-1 -->
          <p:column sortBy="#{tenant.householdSizeLastYear}" styleClass="multi_line very_long_label">
            <f:facet name="header">
              <h:outputText value="#{customProperties['tenant.field.household.last.year']}" />
            </f:facet>
            <h:outputText value="#{tenant.householdSizeLastYear}" />
          </p:column>
          <!-- Salaire brut -->
          <p:column sortBy="#{tenant.sortedActualSalary}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['contract.tenant.field.salary']}" />
            </f:facet>
            <h:outputText value="#{tenant.actualSalary}" />
          </p:column>
          <!-- Salaire brut à octobre N-1 -->
          <p:column sortBy="#{tenant.sortedReferenceGrossSalary}" styleClass="multi_line very_long_label">
            <f:facet name="header">
              <h:outputText value="#{customProperties['contract.tenant.field.salary.last.year']}" />
            </f:facet>
            <h:outputText value="#{tenant.referenceGrossSalary}" />
          </p:column>
          <!-- Téléphone -->
          <p:column sortBy="#{tenant.sortedPhone}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['thirdparty.field.phone']}" />
            </f:facet>
            <h:outputText value="#{tenant.phone}" />
          </p:column>
          <!-- Email -->
          <p:column sortBy="#{tenant.sortedMailAddress}">
            <f:facet name="header">
              <h:outputText value="#{customProperties['thirdparty.field.email']}" />
            </f:facet>
            <h:outputText value="#{tenant.mailAddress}" />
          </p:column>
        </p:dataTable>
        <div id="btn_actions">
          <p:commandButton id="btnexport" value="#{customProperties['common.action.export']}" immediate="true" ajax="false" rendered="#{tenantSearchController.tenantSearchBean.lstResultSearch.size() > 0}">
            <p:dataExporter type="xls" target="resultTab" fileName="export_occupants" postProcessor="#{tenantSearchController.postProcessXLS}" />
          </p:commandButton>
        </div>
      </p:outputPanel>
    </h:form>
  </ui:define>
</ui:composition>
</html>
